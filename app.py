import streamlit as st

# -------------------- μ„¤μ • --------------------
st.set_page_config(page_title="λ‚΄ λ™λ„¤ λ¬Έν™” νλ μ΄ν„°", layout="wide")

# -------------------- νƒ€μ΄ν‹€ --------------------
st.title("π­ λ‚΄ λ™λ„¤ λ¬Έν™” νλ μ΄ν„°")
st.markdown("λ‹Ήμ‹ μ μ§€μ—­κ³Ό μ·¨ν–¥μ„ λ°μν• λ§μ¶¤ κ³µμ—°μ„ μ¶”μ²ν•΄λ“λ ¤μ”.")

# -------------------- μ‚¬μ΄λ“λ°” μ…λ ¥ --------------------
st.sidebar.header("π― μ¶”μ² μ΅°κ±΄μ„ μ„ νƒν•μ„Έμ”")

# 1. μ§€μ—­ μ„ νƒ
region = st.sidebar.selectbox(
    "μ§€μ—­μ„ μ„ νƒν•μ„Έμ”",
    ["μ„μΈ", "λ¶€μ‚°", "λ€κµ¬", "μΈμ²", "κ΄‘μ£Ό", "λ€μ „", "μΈμ‚°", "μ„ΈμΆ…", "κ²½κΈ°", "κ°•μ›", "μ¶©λ¶", "μ¶©λ‚¨", "μ „λ¶", "μ „λ‚¨", "κ²½λ¶", "κ²½λ‚¨", "μ μ£Ό"]
)

# 2. μ¥λ¥΄ μ„ νƒ (μ²΄ν¬λ°•μ¤)
genres = st.sidebar.multiselect(
    "μ„ νΈν•λ” κ³µμ—° μ¥λ¥΄λ¥Ό μ„ νƒν•μ„Έμ”",
    ["λ®¤μ§€μ»¬", "μ—°κ·Ή", "ν΄λμ‹", "κµ­μ•…", "κ°€μ κ³µμ—°", "ν•™μƒ κ³µμ—°", "μ•…κΈ° κ³µμ—°", "λ„μ¤ κ³µμ—°", "κΈ°νƒ€"]
)

# -------------------- κ°€μ§ κ³µμ—° λ°μ΄ν„° --------------------
mock_data = [
    {"κ³µμ—°λ…": "μ°½μ‘ λ®¤μ§€μ»¬ <μ²­μ¶>", "μ§€μ—­": "μ„μΈ", "μ¥λ¥΄": "λ®¤μ§€μ»¬", "λ‚ μ§": "2025-07-15", "μ¥μ†": "ν™μµμ•„νΈν™€"},
    {"κ³µμ—°λ…": "μ „ν†µ κµ­μ•… κ³µμ—°", "μ§€μ—­": "μ „λ¶", "μ¥λ¥΄": "κµ­μ•…", "λ‚ μ§": "2025-08-01", "μ¥μ†": "μ „μ£Όν•μ¥λ§μ„"},
    {"κ³µμ—°λ…": "K-POP μ½μ„νΈ", "μ§€μ—­": "λ¶€μ‚°", "μ¥λ¥΄": "κ°€μ κ³µμ—°", "λ‚ μ§": "2025-07-20", "μ¥μ†": "λ²΅μ¤μ½”"},
    {"κ³µμ—°λ…": "ν΄λμ‹ μ¤μΌ€μ¤νΈλΌ", "μ§€μ—­": "μ„μΈ", "μ¥λ¥΄": "ν΄λμ‹", "λ‚ μ§": "2025-07-18", "μ¥μ†": "μμ μμ „λ‹Ή"},
    {"κ³µμ—°λ…": "ν•™μƒ μ°½μ‘ λ„μ¤ λ¬΄λ€", "μ§€μ—­": "κ΄‘μ£Ό", "μ¥λ¥΄": "λ„μ¤ κ³µμ—°", "λ‚ μ§": "2025-07-22", "μ¥μ†": "κ΄‘μ£Όλ¬Έν™”μ„Όν„°"},
]

# -------------------- μ΅°κ±΄μ— λ§λ” κ³µμ—° ν•„ν„°λ§ --------------------
if genres:
    filtered = [p for p in mock_data if p["μ§€μ—­"] == region and p["μ¥λ¥΄"] in genres]
else:
    filtered = []

# -------------------- μ¶λ ¥ --------------------
st.subheader("π“ μ¶”μ² κ³µμ—° λ¦¬μ¤νΈ")

if not genres:
    st.info("μ™Όμ½μ—μ„ μ§€μ—­κ³Ό μ„ νΈ μ¥λ¥΄λ¥Ό μ„ νƒν•΄μ£Όμ„Έμ”.")
elif not filtered:
    st.warning("ν•΄λ‹Ή μ΅°κ±΄μ— λ§λ” κ³µμ—°μ΄ μ•„μ§ μ—†μµλ‹λ‹¤. λ‹¤λ¥Έ μ΅°κ±΄μ„ μ„ νƒν•΄λ³΄μ„Έμ”!")
else:
    for show in filtered:
        st.markdown(f"""
        ### π« {show['κ³µμ—°λ…']}
        - π“ μ¥μ†: {show['μ¥μ†']}
        - π—“οΈ λ‚ μ§: {show['λ‚ μ§']}
        - πµ μ¥λ¥΄: {show['μ¥λ¥΄']}
        """)

